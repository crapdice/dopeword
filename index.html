<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameStop Power Packs | Digital Trading Cards</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/3d-pack.css">
    <link rel="stylesheet" href="css/dom-shims.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Oswald:wght@500;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="app">
        <!-- Header -->
        <header class="main-header">
            <div class="logo-container">
                <div class="gs-logo">GAMESTOP</div>
                <div class="divider">|</div>
                <div class="sub-logo">POWER PACKS</div>
            </div>
            <nav class="user-nav">
                <a href="#" class="nav-item">My Collection</a>
                <a href="#" class="nav-item highlight">Connect Wallet</a>
            </nav>
        </header>

        <!-- Main Content (2-Column Layout) -->
        <main class="mx-auto mt-12 max-w-wrapper md:mt-8">
            <div class="mx-auto max-w-wrapper">
                <div class="min-h-screen">
                    <div class="mx-auto w-full max-w-full">
                        <div class="block lg:block">
                            <!-- Main Grid -->
                            <div
                                class="grid justify-center gap-0 grid-cols-1 px-4 lg:grid-cols-[1fr_402px] lg:min-h-[calc(100vh - 56px)]">

                                <!-- Left Column: Stage & Chase Cards -->
                                <div class="w-full pr-6 lg:px-10 lg:pb-10">
                                    <div class="relative overflow-hidden aspect-[4/3] lg:aspect-[2.4]">
                                        <div class="absolute inset-0">
                                            <div
                                                class="shadow-inner relative size-full max-h-full overflow-hidden lg:rounded-3xl">
                                                <div
                                                    class="shadow-inner absolute inset-0 z-10 size-full max-h-full overflow-hidden border border-primary lg:rounded-3xl">
                                                </div>
                                                <div class="absolute inset-0 flex items-center justify-center bg-black">

                                                    <!-- 3D Pack Container (Replaces Static Image) -->
                                                    <div class="stage-container" id="mainStage"
                                                        style="width:100%; height:100%; background: transparent; display: flex; justify-content: center; align-items: center;">
                                                        <div class="video-bg-container">
                                                            <div class="ambient-light"></div>
                                                        </div>
                                                        <div style="transform: scale(0.75);">
                                                            <div class="stage-3d-container">
                                                                <div class="pack-3d" id="pack3d">
                                                                    <div class="pack-face pack-face-front"
                                                                        id="packFront" style="--pack-color: #333;">
                                                                        <div class="pack-art-icon" id="packIcon">⚡</div>
                                                                        <div class="pack-title" id="stagePackName">
                                                                            POKEMON
                                                                        </div>
                                                                        <div class="pack-tier-label" id="stageTierName">
                                                                            STARTER</div>
                                                                    </div>
                                                                    <div class="pack-face pack-face-back">
                                                                        <div class="pack-logo"
                                                                            style="font-size: 1rem; color: #666;">
                                                                            GAMESTOP
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Chase Cards Section -->
                                    <div
                                        class="mt-4 transition-all duration-1000 ease-[cubic-bezier(0.25,0.1,0.25,1)] translate-y-0 opacity-100">
                                        <div class="md:rounded-3xl md:border md:border-primary md:bg-elevated md:p-6">
                                            <div class="pb-8">
                                                <h4
                                                    class="m-0 mb-1 p-0 font-barlow text-lg font-bold capitalize text-primary md:mb-2 md:text-2xl">
                                                    Platinum Chase Cards</h4>
                                                <p class="m-0 p-0 font-chivoMono text-xs text-tertiary">Cards available
                                                    to grab from the listed pack level.</p>
                                            </div>
                                            <div class="grid grid-cols-[repeat(auto-fill,minmax(95px,1fr))] place-items-center gap-10 md:grid-cols-[repeat(auto-fill,minmax(127px,1fr))]"
                                                id="chaseCarousel">
                                                <!-- Chase Cards injected via JS or placeholders -->
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Right Column: Sidebar -->
                                <div class="h-full p-0 lg:pb-10">
                                    <div class="sticky top-15 size-full shrink-0 lg:w-[402px] transition-all duration-1000 ease-[cubic-bezier(0.25,0.1,0.25,1)] translate-y-0 scale-100 opacity-100"
                                        style="max-height: calc(-100px + 100vh);">
                                        <div
                                            class="flex h-full flex-col border border-secondary bg-elevated backdrop-blur-sm lg:rounded-3xl">
                                            <div class="custom-scrollbar flex-1 overflow-y-auto">
                                                <div class="px-6 pt-6 md:pt-10">

                                                    <!-- Pack Select -->
                                                    <div class="block md:block">
                                                        <h4
                                                            class="font-barlow text-lg font-bold capitalize text-primary md:text-[26px]">
                                                            Pack Select</h4>
                                                        <div class="grid grid-cols-2 gap-2 pt-6">
                                                            <button
                                                                class="btn-pack-select box-border w-full rounded-xl p-4 text-left transition focus:outline-none relative flex min-h-[90px] flex-col items-center justify-center border-2 border-[#FFFFFF] bg-tertiary px-2 py-4 active-category"
                                                                data-category="pokemon">
                                                                <img alt="Pokémon" class="h-14 w-14 object-contain mb-2"
                                                                    src="https://placehold.co/56x56/transparent/white?text=Poke">
                                                                <p
                                                                    class="pt-2 font-chivoMono text-base capitalize leading-none text-primary">
                                                                    Pokémon</p>
                                                            </button>
                                                            <button
                                                                class="btn-pack-select box-border w-full rounded-xl p-4 text-left transition focus:outline-none relative flex min-h-[90px] flex-col items-center justify-center border-2 border-primary px-2 py-4 hover:border-[#FFFFFF]"
                                                                data-category="football">
                                                                <img alt="Football"
                                                                    class="h-14 w-14 object-contain mb-2"
                                                                    src="https://placehold.co/56x56/transparent/white?text=FB">
                                                                <p
                                                                    class="pt-2 font-chivoMono text-base capitalize leading-none text-primary">
                                                                    Football</p>
                                                            </button>
                                                            <button
                                                                class="btn-pack-select box-border w-full rounded-xl p-4 text-left transition focus:outline-none relative flex min-h-[90px] flex-col items-center justify-center border-2 border-primary px-2 py-4 hover:border-[#FFFFFF]"
                                                                data-category="baseball">
                                                                <img alt="Baseball"
                                                                    class="h-14 w-14 object-contain mb-2"
                                                                    src="https://placehold.co/56x56/transparent/white?text=BB">
                                                                <p
                                                                    class="pt-2 font-chivoMono text-base capitalize leading-none text-primary">
                                                                    Baseball</p>
                                                            </button>
                                                            <button
                                                                class="btn-pack-select box-border w-full rounded-xl p-4 text-left transition focus:outline-none relative flex min-h-[90px] flex-col items-center justify-center border-2 border-primary px-2 py-4 hover:border-[#FFFFFF]"
                                                                data-category="basketball">
                                                                <img alt="Basketball"
                                                                    class="h-14 w-14 object-contain mb-2"
                                                                    src="https://placehold.co/56x56/transparent/white?text=Bball">
                                                                <p
                                                                    class="pt-2 font-chivoMono text-base capitalize leading-none text-primary">
                                                                    Basketball</p>
                                                            </button>
                                                        </div>
                                                    </div>

                                                    <hr class="my-6 block border-primary md:block opacity-20">

                                                    <!-- Level Select -->
                                                    <div class="">
                                                        <h4
                                                            class="font-barlow text-lg font-bold capitalize text-primary md:text-[26px]">
                                                            Level Select</h4>
                                                        <p class="mt-1 font-chivoMono text-xs text-tertiary">Select your
                                                            level to view values</p>
                                                        <div class="grid grid-cols-3 gap-2 pt-6" id="levelSelectGrid">
                                                            <!-- Populated by JS -->
                                                        </div>
                                                    </div>

                                                    <hr class="my-6 block border-primary md:block opacity-20">

                                                    <!-- Values -->
                                                    <div class="mt-0 md:mt-0">
                                                        <h4
                                                            class="font-barlow text-lg font-bold capitalize text-primary md:text-[26px]">
                                                            <span id="selectedLevelName">Starter</span> Values*
                                                        </h4>
                                                        <p class="mt-1 font-chivoMono text-xs text-tertiary">Average
                                                            card value is $<span id="avgValue">25</span></p>
                                                        <div class="flex flex-col gap-1 pt-6 pb-2" id="valuesList">
                                                            <!-- Populated by JS -->
                                                        </div>
                                                        <p
                                                            class="font-chivoMono text-xs font-normal text-tertiary mt-4">
                                                            *Values are estimates...</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Sticky Footer -->
                                            <div class="sticky bottom-0 mt-auto w-full">
                                                <div
                                                    class="flex flex-col border-t border-t-primary bg-elevated lg:bg-transparent">
                                                    <div class="flex flex-col px-6 pb-4 pt-4 lg:p-6 lg:pt-6">
                                                        <p
                                                            class="mb-4 text-center font-chivoMono text-[10px]/[12px] font-normal text-tertiary">
                                                            Terms apply...</p>
                                                        <button id="sidebarBuyBtn"
                                                            class="flex items-center justify-center whitespace-nowrap transition-colors focus:outline-none no-underline gap-2 min-w-28 px-5 border text-white hover:bg-red-600 border-[#D20505] bg-[#D20505] rounded-lg h-12 md:h-14 capitalize w-full shadow-[0_0_15px_rgba(210,5,5,0.4)]"
                                                            type="button">
                                                            <div class="text-center font-chivoMono">
                                                                <p class="text-base font-bold">Buy Pack</p>
                                                                <p class="text-sm font-normal">$<span
                                                                        id="buyBtnPrice">25</span></p>
                                                            </div>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="main-footer">
            <p>&copy; 2024 GameStop Corp. All rights reserved. Power Packs is a trademark of GameStop.</p>
            <div class="footer-links">
                <a href="#">Terms & Conditions</a>
                <a href="#">Privacy Policy</a>
                <a href="#">FAQ</a>
            </div>
        </footer>

        <!-- Pack Opening Modal -->
        <div id="ripModal" class="modal hidden">
            <div class="modal-content">
                <button class="close-modal">&times;</button>

                <!-- Payment Stage -->
                <div id="paymentStage" class="hidden w-full max-w-md mx-auto p-4">
                    <div
                        class="bg-black/40 backdrop-blur-xl rounded-2xl border border-white/10 p-6 shadow-2xl relative overflow-hidden">
                        <!-- Header -->
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="font-barlow text-2xl text-white font-bold">Secure Checkout</h3>
                            <div class="flex gap-2 opacity-70">
                                <div class="w-8 h-5 bg-white/10 rounded fa-shim-cc"></div>
                                <div class="w-8 h-5 bg-white/10 rounded fa-shim-cc"></div>
                            </div>
                        </div>

                        <!-- Summary -->
                        <div class="bg-white/5 rounded-lg p-4 mb-6 border border-white/5">
                            <div class="flex justify-between items-center mb-1">
                                <span class="text-tertiary font-chivoMono text-xs uppercase tracking-wider">Item</span>
                                <span class="text-white font-chivoMono text-sm" id="payItemName">Pokemon Starter</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-tertiary font-chivoMono text-xs uppercase tracking-wider">Total</span>
                                <span class="text-accent font-chivoMono text-lg font-bold"
                                    id="payItemPrice">$25.00</span>
                            </div>
                        </div>

                        <!-- Dummy Form -->
                        <form id="paymentForm" onsubmit="event.preventDefault();">
                            <div class="space-y-4">
                                <div>
                                    <label
                                        class="block text-tertiary font-chivoMono text-[10px] uppercase tracking-wider mb-1">Email</label>
                                    <input type="email" value="player1@example.com"
                                        class="w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white font-chivoMono text-sm focus:outline-none focus:border-accent/50"
                                        readonly>
                                </div>
                                <div>
                                    <label
                                        class="block text-tertiary font-chivoMono text-[10px] uppercase tracking-wider mb-1">Card
                                        Information</label>
                                    <div class="relative">
                                        <input type="text" placeholder="0000 0000 0000 0000"
                                            class="w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white font-chivoMono text-sm focus:outline-none focus:border-accent/50 pl-10">
                                        <div class="absolute left-3 top-2.5 w-4 h-4 bg-white/20 rounded-sm"></div>
                                    </div>
                                    <div class="flex gap-3 mt-3">
                                        <input type="text" placeholder="MM / YY"
                                            class="w-1/2 bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white font-chivoMono text-sm focus:outline-none focus:border-accent/50">
                                        <input type="text" placeholder="CVC"
                                            class="w-1/2 bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white font-chivoMono text-sm focus:outline-none focus:border-accent/50">
                                    </div>
                                </div>
                            </div>

                            <!-- Pay Button -->
                            <button id="confirmPayBtn" type="submit"
                                class="w-full mt-6 bg-[#D20505] hover:bg-red-600 text-white font-chivoMono text-sm font-bold py-3 rounded-lg shadow-[0_0_15px_rgba(210,5,5,0.4)] transition-all transform active:scale-95 flex justify-center items-center gap-2">
                                <span>PAY NOW</span>
                                <span id="payBtnAmount">$25.00</span>
                            </button>
                        </form>

                        <!-- Secure Badge -->
                        <div class="mt-4 flex justify-center items-center gap-2 opacity-50">
                            <div class="w-3 h-3 rounded-full bg-green-500"></div>
                            <span class="text-[10px] font-chivoMono text-tertiary uppercase">256-bit SSL
                                Encrypted</span>
                        </div>
                    </div>
                </div>

                <div class="pack-stage hidden">
                    <div class="pack-shake-container" id="activePack">
                        <!-- Active Pack Image -->
                    </div>
                </div>
                <div class="reveal-stage hidden" id="revealedCard">
                    <div class="glow-effect"></div>
                    <img src="" alt="Revealed Card" class="card-image" id="cardResultImg">
                    <h3 id="cardResultName">Charizard 1st Edition</h3>
                    <div class="card-stats">
                        <span class="grade" id="cardGrade">PSA 10</span>
                        <span class="value" id="cardValue">$25,000</span>
                    </div>
                    <div class="modal-actions">
                        <button class="btn btn-secondary">Sell for <span id="sellValue">$20k</span></button>
                        <button class="btn btn-primary">Add to Collection</button>
                    </div>
                </div>
                <button id="ripBtn" class="btn btn-cta">RIP PACK</button>
            </div>
        </div>
    </div>

    <script src="js/services.js"></script>
    <script src="js/app.js"></script>
</body>

</html>